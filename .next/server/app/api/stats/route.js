"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/stats/route";
exports.ids = ["app/api/stats/route"];
exports.modules = {

/***/ "better-sqlite3":
/*!*********************************!*\
  !*** external "better-sqlite3" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("better-sqlite3");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "onnxruntime-node":
/*!***********************************!*\
  !*** external "onnxruntime-node" ***!
  \***********************************/
/***/ ((module) => {

module.exports = require("onnxruntime-node");

/***/ }),

/***/ "sharp":
/*!************************!*\
  !*** external "sharp" ***!
  \************************/
/***/ ((module) => {

module.exports = require("sharp");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "node:fs":
/*!**************************!*\
  !*** external "node:fs" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("node:fs");

/***/ }),

/***/ "node:path":
/*!****************************!*\
  !*** external "node:path" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:path");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "perf_hooks":
/*!*****************************!*\
  !*** external "perf_hooks" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("perf_hooks");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "worker_threads":
/*!*********************************!*\
  !*** external "worker_threads" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("worker_threads");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fstats%2Froute&page=%2Fapi%2Fstats%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fstats%2Froute.ts&appDir=C%3A%5CUsers%5Ckomar%5CDesktop%5Cdocs-chat-master%5Cdocs-chat-master%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ckomar%5CDesktop%5Cdocs-chat-master%5Cdocs-chat-master&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fstats%2Froute&page=%2Fapi%2Fstats%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fstats%2Froute.ts&appDir=C%3A%5CUsers%5Ckomar%5CDesktop%5Cdocs-chat-master%5Cdocs-chat-master%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ckomar%5CDesktop%5Cdocs-chat-master%5Cdocs-chat-master&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_komar_Desktop_docs_chat_master_docs_chat_master_app_api_stats_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/stats/route.ts */ \"(rsc)/./app/api/stats/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/stats/route\",\n        pathname: \"/api/stats\",\n        filename: \"route\",\n        bundlePath: \"app/api/stats/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\komar\\\\Desktop\\\\docs-chat-master\\\\docs-chat-master\\\\app\\\\api\\\\stats\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_komar_Desktop_docs_chat_master_docs_chat_master_app_api_stats_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/stats/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZzdGF0cyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGc3RhdHMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZzdGF0cyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNrb21hciU1Q0Rlc2t0b3AlNUNkb2NzLWNoYXQtbWFzdGVyJTVDZG9jcy1jaGF0LW1hc3RlciU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDa29tYXIlNUNEZXNrdG9wJTVDZG9jcy1jaGF0LW1hc3RlciU1Q2RvY3MtY2hhdC1tYXN0ZXImaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ3dDO0FBQ3JIO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG9jcy1jaGF0LW5leHQvPzljMGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcVXNlcnNcXFxca29tYXJcXFxcRGVza3RvcFxcXFxkb2NzLWNoYXQtbWFzdGVyXFxcXGRvY3MtY2hhdC1tYXN0ZXJcXFxcYXBwXFxcXGFwaVxcXFxzdGF0c1xcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvc3RhdHMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9zdGF0c1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvc3RhdHMvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxrb21hclxcXFxEZXNrdG9wXFxcXGRvY3MtY2hhdC1tYXN0ZXJcXFxcZG9jcy1jaGF0LW1hc3RlclxcXFxhcHBcXFxcYXBpXFxcXHN0YXRzXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9zdGF0cy9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fstats%2Froute&page=%2Fapi%2Fstats%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fstats%2Froute.ts&appDir=C%3A%5CUsers%5Ckomar%5CDesktop%5Cdocs-chat-master%5Cdocs-chat-master%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ckomar%5CDesktop%5Cdocs-chat-master%5Cdocs-chat-master&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/_state.ts":
/*!***************************!*\
  !*** ./app/api/_state.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   chunker: () => (/* binding */ chunker),\n/* harmony export */   mediaFiles: () => (/* binding */ mediaFiles),\n/* harmony export */   sessions: () => (/* binding */ sessions),\n/* harmony export */   store: () => (/* binding */ store)\n/* harmony export */ });\n/* harmony import */ var _lib_settings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/settings */ \"(rsc)/./lib/settings.ts\");\n/* harmony import */ var _lib_textChunker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/textChunker */ \"(rsc)/./lib/textChunker.ts\");\n/* harmony import */ var _lib_vectorStore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/vectorStore */ \"(rsc)/./lib/vectorStore.ts\");\n/* harmony import */ var node_path__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! node:path */ \"node:path\");\n/* harmony import */ var node_path__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(node_path__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var node_fs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! node:fs */ \"node:fs\");\n/* harmony import */ var node_fs__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(node_fs__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\nconst chunker = new _lib_textChunker__WEBPACK_IMPORTED_MODULE_1__.TextChunker(_lib_settings__WEBPACK_IMPORTED_MODULE_0__.settings.MAX_CHUNK_SIZE, _lib_settings__WEBPACK_IMPORTED_MODULE_0__.settings.CHUNK_OVERLAP);\nconst defaultDbPath = process.env.SQLITE_PATH || node_path__WEBPACK_IMPORTED_MODULE_3___default().join(process.cwd(), \"data\", \"index.sqlite\");\ntry {\n    const dir = node_path__WEBPACK_IMPORTED_MODULE_3___default().dirname(defaultDbPath);\n    if (!node_fs__WEBPACK_IMPORTED_MODULE_4___default().existsSync(dir)) {\n        node_fs__WEBPACK_IMPORTED_MODULE_4___default().mkdirSync(dir, {\n            recursive: true\n        });\n    }\n} catch  {}\nconst store = new _lib_vectorStore__WEBPACK_IMPORTED_MODULE_2__.VectorStore(_lib_settings__WEBPACK_IMPORTED_MODULE_0__.settings.EMBEDDING_MODEL, defaultDbPath);\nconst sessions = new Map();\nconst mediaFiles = new Map(); // Store media files by ID\n// Create uploads directory if it doesn't exist\nconst uploadsDir = node_path__WEBPACK_IMPORTED_MODULE_3___default().join(process.cwd(), \"uploads\");\ntry {\n    if (!node_fs__WEBPACK_IMPORTED_MODULE_4___default().existsSync(uploadsDir)) {\n        node_fs__WEBPACK_IMPORTED_MODULE_4___default().mkdirSync(uploadsDir, {\n            recursive: true\n        });\n    }\n} catch  {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL19zdGF0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUEwQztBQUNNO0FBQ0E7QUFDbkI7QUFDSjtBQVlsQixNQUFNSyxVQUFVLElBQUlKLHlEQUFXQSxDQUFDRCxtREFBUUEsQ0FBQ00sY0FBYyxFQUFFTixtREFBUUEsQ0FBQ08sYUFBYSxFQUFFO0FBQ3hGLE1BQU1DLGdCQUFnQkMsUUFBUUMsR0FBRyxDQUFDQyxXQUFXLElBQUlSLHFEQUFTLENBQUNNLFFBQVFJLEdBQUcsSUFBSSxRQUFRO0FBQ2xGLElBQUk7SUFDRixNQUFNQyxNQUFNWCx3REFBWSxDQUFDSztJQUN6QixJQUFJLENBQUNKLHlEQUFhLENBQUNVLE1BQU07UUFDdkJWLHdEQUFZLENBQUNVLEtBQUs7WUFBRUksV0FBVztRQUFLO0lBQ3RDO0FBQ0YsRUFBRSxPQUFNLENBQUM7QUFDRixNQUFNQyxRQUFRLElBQUlqQix5REFBV0EsQ0FBQ0YsbURBQVFBLENBQUNvQixlQUFlLEVBQUVaLGVBQWU7QUFDdkUsTUFBTWEsV0FBVyxJQUFJQyxNQUE2QjtBQUNsRCxNQUFNQyxhQUFhLElBQUlELE1BQXlCLENBQUMsMEJBQTBCO0FBRWxGLCtDQUErQztBQUMvQyxNQUFNRSxhQUFhckIscURBQVMsQ0FBQ00sUUFBUUksR0FBRyxJQUFJO0FBQzVDLElBQUk7SUFDRixJQUFJLENBQUNULHlEQUFhLENBQUNvQixhQUFhO1FBQzlCcEIsd0RBQVksQ0FBQ29CLFlBQVk7WUFBRU4sV0FBVztRQUFLO0lBQzdDO0FBQ0YsRUFBRSxPQUFNLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb2NzLWNoYXQtbmV4dC8uL2FwcC9hcGkvX3N0YXRlLnRzPzRhYzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tIFwiQC9saWIvc2V0dGluZ3NcIjtcclxuaW1wb3J0IHsgVGV4dENodW5rZXIgfSBmcm9tIFwiQC9saWIvdGV4dENodW5rZXJcIjtcclxuaW1wb3J0IHsgVmVjdG9yU3RvcmUgfSBmcm9tIFwiQC9saWIvdmVjdG9yU3RvcmVcIjtcclxuaW1wb3J0IHBhdGggZnJvbSBcIm5vZGU6cGF0aFwiO1xyXG5pbXBvcnQgZnMgZnJvbSBcIm5vZGU6ZnNcIjtcclxuXHJcbmV4cG9ydCB0eXBlIENoYXRNZXNzYWdlID0geyByb2xlOiBcInVzZXJcIiB8IFwiYXNzaXN0YW50XCI7IGNvbnRlbnQ6IHN0cmluZyB9O1xyXG5cclxuZXhwb3J0IHR5cGUgTWVkaWFGaWxlID0ge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgZmlsZVBhdGg6IHN0cmluZztcclxuICBtaW1lVHlwZTogc3RyaW5nO1xyXG4gIG9yaWdpbmFsTmFtZTogc3RyaW5nO1xyXG4gIHR5cGU6IFwiaW1hZ2VcIiB8IFwidmlkZW9cIiB8IFwiYXVkaW9cIjtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjaHVua2VyID0gbmV3IFRleHRDaHVua2VyKHNldHRpbmdzLk1BWF9DSFVOS19TSVpFLCBzZXR0aW5ncy5DSFVOS19PVkVSTEFQKTtcclxuY29uc3QgZGVmYXVsdERiUGF0aCA9IHByb2Nlc3MuZW52LlNRTElURV9QQVRIIHx8IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCBcImRhdGFcIiwgXCJpbmRleC5zcWxpdGVcIik7XHJcbnRyeSB7XHJcbiAgY29uc3QgZGlyID0gcGF0aC5kaXJuYW1lKGRlZmF1bHREYlBhdGgpO1xyXG4gIGlmICghZnMuZXhpc3RzU3luYyhkaXIpKSB7XHJcbiAgICBmcy5ta2RpclN5bmMoZGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcclxuICB9XHJcbn0gY2F0Y2gge31cclxuZXhwb3J0IGNvbnN0IHN0b3JlID0gbmV3IFZlY3RvclN0b3JlKHNldHRpbmdzLkVNQkVERElOR19NT0RFTCwgZGVmYXVsdERiUGF0aCk7XHJcbmV4cG9ydCBjb25zdCBzZXNzaW9ucyA9IG5ldyBNYXA8c3RyaW5nLCBDaGF0TWVzc2FnZVtdPigpO1xyXG5leHBvcnQgY29uc3QgbWVkaWFGaWxlcyA9IG5ldyBNYXA8c3RyaW5nLCBNZWRpYUZpbGU+KCk7IC8vIFN0b3JlIG1lZGlhIGZpbGVzIGJ5IElEXHJcblxyXG4vLyBDcmVhdGUgdXBsb2FkcyBkaXJlY3RvcnkgaWYgaXQgZG9lc24ndCBleGlzdFxyXG5jb25zdCB1cGxvYWRzRGlyID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksIFwidXBsb2Fkc1wiKTtcclxudHJ5IHtcclxuICBpZiAoIWZzLmV4aXN0c1N5bmModXBsb2Fkc0RpcikpIHtcclxuICAgIGZzLm1rZGlyU3luYyh1cGxvYWRzRGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcclxuICB9XHJcbn0gY2F0Y2gge31cclxuXHJcbiJdLCJuYW1lcyI6WyJzZXR0aW5ncyIsIlRleHRDaHVua2VyIiwiVmVjdG9yU3RvcmUiLCJwYXRoIiwiZnMiLCJjaHVua2VyIiwiTUFYX0NIVU5LX1NJWkUiLCJDSFVOS19PVkVSTEFQIiwiZGVmYXVsdERiUGF0aCIsInByb2Nlc3MiLCJlbnYiLCJTUUxJVEVfUEFUSCIsImpvaW4iLCJjd2QiLCJkaXIiLCJkaXJuYW1lIiwiZXhpc3RzU3luYyIsIm1rZGlyU3luYyIsInJlY3Vyc2l2ZSIsInN0b3JlIiwiRU1CRURESU5HX01PREVMIiwic2Vzc2lvbnMiLCJNYXAiLCJtZWRpYUZpbGVzIiwidXBsb2Fkc0RpciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/_state.ts\n");

/***/ }),

/***/ "(rsc)/./app/api/stats/route.ts":
/*!********************************!*\
  !*** ./app/api/stats/route.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   runtime: () => (/* binding */ runtime)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _state__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../_state */ \"(rsc)/./app/api/_state.ts\");\n/* harmony import */ var _lib_settings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/settings */ \"(rsc)/./lib/settings.ts\");\n\n\n\nconst runtime = \"nodejs\";\nasync function GET() {\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        vector_store: _state__WEBPACK_IMPORTED_MODULE_1__.store.getStats(),\n        active_sessions: _state__WEBPACK_IMPORTED_MODULE_1__.sessions.size,\n        settings: {\n            max_chunk_size: _lib_settings__WEBPACK_IMPORTED_MODULE_2__.settings.MAX_CHUNK_SIZE,\n            chunk_overlap: _lib_settings__WEBPACK_IMPORTED_MODULE_2__.settings.CHUNK_OVERLAP,\n            embedding_model: _lib_settings__WEBPACK_IMPORTED_MODULE_2__.settings.EMBEDDING_MODEL,\n            gemini_model: _lib_settings__WEBPACK_IMPORTED_MODULE_2__.settings.GEMINI_MODEL,\n            enable_ocr: _lib_settings__WEBPACK_IMPORTED_MODULE_2__.settings.ENABLE_OCR,\n            enable_youtube: _lib_settings__WEBPACK_IMPORTED_MODULE_2__.settings.ENABLE_YOUTUBE,\n            sqlite_path: process.env.SQLITE_PATH || \"./data/index.sqlite\",\n            gemini_api_key_present: Boolean(process.env.GEMINI_API_KEY && process.env.GEMINI_API_KEY.length > 0)\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3N0YXRzL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTJDO0FBQ0M7QUFDRjtBQUVuQyxNQUFNSSxVQUFVLFNBQVM7QUFFekIsZUFBZUM7SUFDcEIsT0FBT0wscURBQVlBLENBQUNNLElBQUksQ0FBQztRQUN2QkMsY0FBY04seUNBQUtBLENBQUNPLFFBQVE7UUFDNUJDLGlCQUFpQlAsNENBQVFBLENBQUNRLElBQUk7UUFDOUJQLFVBQVU7WUFDUlEsZ0JBQWdCUixtREFBUUEsQ0FBQ1MsY0FBYztZQUN2Q0MsZUFBZVYsbURBQVFBLENBQUNXLGFBQWE7WUFDckNDLGlCQUFpQlosbURBQVFBLENBQUNhLGVBQWU7WUFDekNDLGNBQWNkLG1EQUFRQSxDQUFDZSxZQUFZO1lBQ25DQyxZQUFZaEIsbURBQVFBLENBQUNpQixVQUFVO1lBQy9CQyxnQkFBZ0JsQixtREFBUUEsQ0FBQ21CLGNBQWM7WUFDdkNDLGFBQWFDLFFBQVFDLEdBQUcsQ0FBQ0MsV0FBVyxJQUFJO1lBQ3hDQyx3QkFBd0JDLFFBQVFKLFFBQVFDLEdBQUcsQ0FBQ0ksY0FBYyxJQUFJTCxRQUFRQyxHQUFHLENBQUNJLGNBQWMsQ0FBQ0MsTUFBTSxHQUFHO1FBQ3BHO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2RvY3MtY2hhdC1uZXh0Ly4vYXBwL2FwaS9zdGF0cy9yb3V0ZS50cz84ZGYxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xyXG5pbXBvcnQgeyBzdG9yZSwgc2Vzc2lvbnMgfSBmcm9tIFwiLi4vX3N0YXRlXCI7XHJcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSBcIkAvbGliL3NldHRpbmdzXCI7XHJcblxyXG5leHBvcnQgY29uc3QgcnVudGltZSA9IFwibm9kZWpzXCI7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKCkge1xyXG4gIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICB2ZWN0b3Jfc3RvcmU6IHN0b3JlLmdldFN0YXRzKCksXHJcbiAgICBhY3RpdmVfc2Vzc2lvbnM6IHNlc3Npb25zLnNpemUsXHJcbiAgICBzZXR0aW5nczoge1xyXG4gICAgICBtYXhfY2h1bmtfc2l6ZTogc2V0dGluZ3MuTUFYX0NIVU5LX1NJWkUsXHJcbiAgICAgIGNodW5rX292ZXJsYXA6IHNldHRpbmdzLkNIVU5LX09WRVJMQVAsXHJcbiAgICAgIGVtYmVkZGluZ19tb2RlbDogc2V0dGluZ3MuRU1CRURESU5HX01PREVMLFxyXG4gICAgICBnZW1pbmlfbW9kZWw6IHNldHRpbmdzLkdFTUlOSV9NT0RFTCxcclxuICAgICAgZW5hYmxlX29jcjogc2V0dGluZ3MuRU5BQkxFX09DUixcclxuICAgICAgZW5hYmxlX3lvdXR1YmU6IHNldHRpbmdzLkVOQUJMRV9ZT1VUVUJFLFxyXG4gICAgICBzcWxpdGVfcGF0aDogcHJvY2Vzcy5lbnYuU1FMSVRFX1BBVEggfHwgXCIuL2RhdGEvaW5kZXguc3FsaXRlXCIsXHJcbiAgICAgIGdlbWluaV9hcGlfa2V5X3ByZXNlbnQ6IEJvb2xlYW4ocHJvY2Vzcy5lbnYuR0VNSU5JX0FQSV9LRVkgJiYgcHJvY2Vzcy5lbnYuR0VNSU5JX0FQSV9LRVkubGVuZ3RoID4gMCksXHJcbiAgICB9LFxyXG4gIH0pO1xyXG59XHJcblxyXG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwic3RvcmUiLCJzZXNzaW9ucyIsInNldHRpbmdzIiwicnVudGltZSIsIkdFVCIsImpzb24iLCJ2ZWN0b3Jfc3RvcmUiLCJnZXRTdGF0cyIsImFjdGl2ZV9zZXNzaW9ucyIsInNpemUiLCJtYXhfY2h1bmtfc2l6ZSIsIk1BWF9DSFVOS19TSVpFIiwiY2h1bmtfb3ZlcmxhcCIsIkNIVU5LX09WRVJMQVAiLCJlbWJlZGRpbmdfbW9kZWwiLCJFTUJFRERJTkdfTU9ERUwiLCJnZW1pbmlfbW9kZWwiLCJHRU1JTklfTU9ERUwiLCJlbmFibGVfb2NyIiwiRU5BQkxFX09DUiIsImVuYWJsZV95b3V0dWJlIiwiRU5BQkxFX1lPVVRVQkUiLCJzcWxpdGVfcGF0aCIsInByb2Nlc3MiLCJlbnYiLCJTUUxJVEVfUEFUSCIsImdlbWluaV9hcGlfa2V5X3ByZXNlbnQiLCJCb29sZWFuIiwiR0VNSU5JX0FQSV9LRVkiLCJsZW5ndGgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/stats/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/settings.ts":
/*!*************************!*\
  !*** ./lib/settings.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SYSTEM_PROMPT: () => (/* binding */ SYSTEM_PROMPT),\n/* harmony export */   settings: () => (/* binding */ settings)\n/* harmony export */ });\nconst settings = {\n    GEMINI_API_KEY: process.env.GEMINI_API_KEY || \"\",\n    MAX_CHUNK_SIZE: Number(process.env.MAX_CHUNK_SIZE || 1000),\n    CHUNK_OVERLAP: Number(process.env.CHUNK_OVERLAP || 200),\n    MAX_FILE_SIZE_MB: Number(process.env.MAX_FILE_SIZE_MB || 50),\n    EMBEDDING_MODEL: process.env.EMBEDDING_MODEL || \"Xenova/all-MiniLM-L6-v2\",\n    GEMINI_MODEL: process.env.GEMINI_MODEL || \"gemini-2.0-flash-exp\",\n    TEMPERATURE: Number(process.env.TEMPERATURE || 0.7),\n    MAX_OUTPUT_TOKENS: Number(process.env.MAX_OUTPUT_TOKENS || 2048),\n    ENABLE_OCR: String(process.env.ENABLE_OCR || \"true\") === \"true\",\n    ENABLE_YOUTUBE: String(process.env.ENABLE_YOUTUBE || \"true\") === \"true\"\n};\nconst SYSTEM_PROMPT = `You are a helpful assistant that answers questions based ONLY on the provided document context.\r\nIf the answer cannot be found in the provided context, clearly state that the information is not available in the document.\r\nDo not make up information or use external knowledge. Always cite which part of the document you're referencing.`;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvc2V0dGluZ3MudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFhTyxNQUFNQSxXQUFxQjtJQUNoQ0MsZ0JBQWdCQyxRQUFRQyxHQUFHLENBQUNGLGNBQWMsSUFBSTtJQUM5Q0csZ0JBQWdCQyxPQUFPSCxRQUFRQyxHQUFHLENBQUNDLGNBQWMsSUFBSTtJQUNyREUsZUFBZUQsT0FBT0gsUUFBUUMsR0FBRyxDQUFDRyxhQUFhLElBQUk7SUFDbkRDLGtCQUFrQkYsT0FBT0gsUUFBUUMsR0FBRyxDQUFDSSxnQkFBZ0IsSUFBSTtJQUN6REMsaUJBQWlCTixRQUFRQyxHQUFHLENBQUNLLGVBQWUsSUFBSTtJQUNoREMsY0FBY1AsUUFBUUMsR0FBRyxDQUFDTSxZQUFZLElBQUk7SUFDMUNDLGFBQWFMLE9BQU9ILFFBQVFDLEdBQUcsQ0FBQ08sV0FBVyxJQUFJO0lBQy9DQyxtQkFBbUJOLE9BQU9ILFFBQVFDLEdBQUcsQ0FBQ1EsaUJBQWlCLElBQUk7SUFDM0RDLFlBQVlDLE9BQU9YLFFBQVFDLEdBQUcsQ0FBQ1MsVUFBVSxJQUFJLFlBQVk7SUFDekRFLGdCQUFnQkQsT0FBT1gsUUFBUUMsR0FBRyxDQUFDVyxjQUFjLElBQUksWUFBWTtBQUNuRSxFQUFFO0FBRUssTUFBTUMsZ0JBQWdCLENBQUM7O2dIQUVrRixDQUFDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb2NzLWNoYXQtbmV4dC8uL2xpYi9zZXR0aW5ncy50cz8xZDcyIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB0eXBlIFNldHRpbmdzID0ge1xyXG4gIEdFTUlOSV9BUElfS0VZOiBzdHJpbmc7XHJcbiAgTUFYX0NIVU5LX1NJWkU6IG51bWJlcjtcclxuICBDSFVOS19PVkVSTEFQOiBudW1iZXI7XHJcbiAgTUFYX0ZJTEVfU0laRV9NQjogbnVtYmVyO1xyXG4gIEVNQkVERElOR19NT0RFTDogc3RyaW5nO1xyXG4gIEdFTUlOSV9NT0RFTDogc3RyaW5nO1xyXG4gIFRFTVBFUkFUVVJFOiBudW1iZXI7XHJcbiAgTUFYX09VVFBVVF9UT0tFTlM6IG51bWJlcjtcclxuICBFTkFCTEVfT0NSOiBib29sZWFuO1xyXG4gIEVOQUJMRV9ZT1VUVUJFOiBib29sZWFuO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHNldHRpbmdzOiBTZXR0aW5ncyA9IHtcclxuICBHRU1JTklfQVBJX0tFWTogcHJvY2Vzcy5lbnYuR0VNSU5JX0FQSV9LRVkgfHwgXCJcIixcclxuICBNQVhfQ0hVTktfU0laRTogTnVtYmVyKHByb2Nlc3MuZW52Lk1BWF9DSFVOS19TSVpFIHx8IDEwMDApLFxyXG4gIENIVU5LX09WRVJMQVA6IE51bWJlcihwcm9jZXNzLmVudi5DSFVOS19PVkVSTEFQIHx8IDIwMCksXHJcbiAgTUFYX0ZJTEVfU0laRV9NQjogTnVtYmVyKHByb2Nlc3MuZW52Lk1BWF9GSUxFX1NJWkVfTUIgfHwgNTApLFxyXG4gIEVNQkVERElOR19NT0RFTDogcHJvY2Vzcy5lbnYuRU1CRURESU5HX01PREVMIHx8IFwiWGVub3ZhL2FsbC1NaW5pTE0tTDYtdjJcIixcclxuICBHRU1JTklfTU9ERUw6IHByb2Nlc3MuZW52LkdFTUlOSV9NT0RFTCB8fCBcImdlbWluaS0yLjAtZmxhc2gtZXhwXCIsXHJcbiAgVEVNUEVSQVRVUkU6IE51bWJlcihwcm9jZXNzLmVudi5URU1QRVJBVFVSRSB8fCAwLjcpLFxyXG4gIE1BWF9PVVRQVVRfVE9LRU5TOiBOdW1iZXIocHJvY2Vzcy5lbnYuTUFYX09VVFBVVF9UT0tFTlMgfHwgMjA0OCksXHJcbiAgRU5BQkxFX09DUjogU3RyaW5nKHByb2Nlc3MuZW52LkVOQUJMRV9PQ1IgfHwgXCJ0cnVlXCIpID09PSBcInRydWVcIixcclxuICBFTkFCTEVfWU9VVFVCRTogU3RyaW5nKHByb2Nlc3MuZW52LkVOQUJMRV9ZT1VUVUJFIHx8IFwidHJ1ZVwiKSA9PT0gXCJ0cnVlXCIsXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgU1lTVEVNX1BST01QVCA9IGBZb3UgYXJlIGEgaGVscGZ1bCBhc3Npc3RhbnQgdGhhdCBhbnN3ZXJzIHF1ZXN0aW9ucyBiYXNlZCBPTkxZIG9uIHRoZSBwcm92aWRlZCBkb2N1bWVudCBjb250ZXh0LlxyXG5JZiB0aGUgYW5zd2VyIGNhbm5vdCBiZSBmb3VuZCBpbiB0aGUgcHJvdmlkZWQgY29udGV4dCwgY2xlYXJseSBzdGF0ZSB0aGF0IHRoZSBpbmZvcm1hdGlvbiBpcyBub3QgYXZhaWxhYmxlIGluIHRoZSBkb2N1bWVudC5cclxuRG8gbm90IG1ha2UgdXAgaW5mb3JtYXRpb24gb3IgdXNlIGV4dGVybmFsIGtub3dsZWRnZS4gQWx3YXlzIGNpdGUgd2hpY2ggcGFydCBvZiB0aGUgZG9jdW1lbnQgeW91J3JlIHJlZmVyZW5jaW5nLmA7XHJcblxyXG4iXSwibmFtZXMiOlsic2V0dGluZ3MiLCJHRU1JTklfQVBJX0tFWSIsInByb2Nlc3MiLCJlbnYiLCJNQVhfQ0hVTktfU0laRSIsIk51bWJlciIsIkNIVU5LX09WRVJMQVAiLCJNQVhfRklMRV9TSVpFX01CIiwiRU1CRURESU5HX01PREVMIiwiR0VNSU5JX01PREVMIiwiVEVNUEVSQVRVUkUiLCJNQVhfT1VUUFVUX1RPS0VOUyIsIkVOQUJMRV9PQ1IiLCJTdHJpbmciLCJFTkFCTEVfWU9VVFVCRSIsIlNZU1RFTV9QUk9NUFQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/settings.ts\n");

/***/ }),

/***/ "(rsc)/./lib/textChunker.ts":
/*!****************************!*\
  !*** ./lib/textChunker.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TextChunker: () => (/* binding */ TextChunker)\n/* harmony export */ });\nclass TextChunker {\n    constructor(chunkSize = 1000, overlap = 200){\n        this.chunkSize = chunkSize;\n        this.overlap = overlap;\n    }\n    chunkBySentences(text, maxChunkSize) {\n        const limit = maxChunkSize ?? this.chunkSize;\n        const sentences = text.replace(/!/g, \".\").replace(/\\?/g, \".\").split(\".\").map((s)=>s.trim()).filter(Boolean);\n        const chunks = [];\n        let current = [];\n        let size = 0;\n        let id = 0;\n        for (const sentence of sentences){\n            const sentSize = sentence.split(/\\s+/).length;\n            if (size + sentSize > limit && current.length) {\n                chunks.push({\n                    id,\n                    text: current.join(\". \") + \".\",\n                    sentence_count: current.length,\n                    token_count: size\n                });\n                id += 1;\n                if (this.overlap > 0 && current.length > 1) {\n                    current = current.slice(-1);\n                    size = current[0].split(/\\s+/).length;\n                } else {\n                    current = [];\n                    size = 0;\n                }\n            }\n            current.push(sentence);\n            size += sentSize;\n        }\n        if (current.length) {\n            chunks.push({\n                id,\n                text: current.join(\". \") + \".\",\n                sentence_count: current.length,\n                token_count: size\n            });\n        }\n        return chunks;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvdGV4dENodW5rZXIudHMiLCJtYXBwaW5ncyI6Ijs7OztBQVNPLE1BQU1BO0lBSVhDLFlBQVlDLFlBQW9CLElBQUksRUFBRUMsVUFBa0IsR0FBRyxDQUFFO1FBQzNELElBQUksQ0FBQ0QsU0FBUyxHQUFHQTtRQUNqQixJQUFJLENBQUNDLE9BQU8sR0FBR0E7SUFDakI7SUFFQUMsaUJBQWlCQyxJQUFZLEVBQUVDLFlBQXFCLEVBQVc7UUFDN0QsTUFBTUMsUUFBUUQsZ0JBQWdCLElBQUksQ0FBQ0osU0FBUztRQUM1QyxNQUFNTSxZQUFZSCxLQUFLSSxPQUFPLENBQUMsTUFBTSxLQUFLQSxPQUFPLENBQUMsT0FBTyxLQUFLQyxLQUFLLENBQUMsS0FBS0MsR0FBRyxDQUFDQyxDQUFBQSxJQUFLQSxFQUFFQyxJQUFJLElBQUlDLE1BQU0sQ0FBQ0M7UUFDbkcsTUFBTUMsU0FBa0IsRUFBRTtRQUMxQixJQUFJQyxVQUFvQixFQUFFO1FBQzFCLElBQUlDLE9BQU87UUFDWCxJQUFJQyxLQUFLO1FBRVQsS0FBSyxNQUFNQyxZQUFZWixVQUFXO1lBQ2hDLE1BQU1hLFdBQVdELFNBQVNWLEtBQUssQ0FBQyxPQUFPWSxNQUFNO1lBQzdDLElBQUlKLE9BQU9HLFdBQVdkLFNBQVNVLFFBQVFLLE1BQU0sRUFBRTtnQkFDN0NOLE9BQU9PLElBQUksQ0FBQztvQkFBRUo7b0JBQUlkLE1BQU1ZLFFBQVFPLElBQUksQ0FBQyxRQUFRO29CQUFLQyxnQkFBZ0JSLFFBQVFLLE1BQU07b0JBQUVJLGFBQWFSO2dCQUFLO2dCQUNwR0MsTUFBTTtnQkFDTixJQUFJLElBQUksQ0FBQ2hCLE9BQU8sR0FBRyxLQUFLYyxRQUFRSyxNQUFNLEdBQUcsR0FBRztvQkFDMUNMLFVBQVVBLFFBQVFVLEtBQUssQ0FBQyxDQUFDO29CQUN6QlQsT0FBT0QsT0FBTyxDQUFDLEVBQUUsQ0FBQ1AsS0FBSyxDQUFDLE9BQU9ZLE1BQU07Z0JBQ3ZDLE9BQU87b0JBQ0xMLFVBQVUsRUFBRTtvQkFDWkMsT0FBTztnQkFDVDtZQUNGO1lBQ0FELFFBQVFNLElBQUksQ0FBQ0g7WUFDYkYsUUFBUUc7UUFDVjtRQUNBLElBQUlKLFFBQVFLLE1BQU0sRUFBRTtZQUNsQk4sT0FBT08sSUFBSSxDQUFDO2dCQUFFSjtnQkFBSWQsTUFBTVksUUFBUU8sSUFBSSxDQUFDLFFBQVE7Z0JBQUtDLGdCQUFnQlIsUUFBUUssTUFBTTtnQkFBRUksYUFBYVI7WUFBSztRQUN0RztRQUNBLE9BQU9GO0lBQ1Q7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2RvY3MtY2hhdC1uZXh0Ly4vbGliL3RleHRDaHVua2VyLnRzPzc4NDAiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHR5cGUgQ2h1bmsgPSB7XHJcbiAgaWQ6IG51bWJlcjtcclxuICB0ZXh0OiBzdHJpbmc7XHJcbiAgdG9rZW5fY291bnQ/OiBudW1iZXI7XHJcbiAgc2VudGVuY2VfY291bnQ/OiBudW1iZXI7XHJcbiAgc3RhcnRfcG9zPzogbnVtYmVyO1xyXG4gIGVuZF9wb3M/OiBudW1iZXI7XHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgVGV4dENodW5rZXIge1xyXG4gIHByaXZhdGUgY2h1bmtTaXplOiBudW1iZXI7XHJcbiAgcHJpdmF0ZSBvdmVybGFwOiBudW1iZXI7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGNodW5rU2l6ZTogbnVtYmVyID0gMTAwMCwgb3ZlcmxhcDogbnVtYmVyID0gMjAwKSB7XHJcbiAgICB0aGlzLmNodW5rU2l6ZSA9IGNodW5rU2l6ZTtcclxuICAgIHRoaXMub3ZlcmxhcCA9IG92ZXJsYXA7XHJcbiAgfVxyXG5cclxuICBjaHVua0J5U2VudGVuY2VzKHRleHQ6IHN0cmluZywgbWF4Q2h1bmtTaXplPzogbnVtYmVyKTogQ2h1bmtbXSB7XHJcbiAgICBjb25zdCBsaW1pdCA9IG1heENodW5rU2l6ZSA/PyB0aGlzLmNodW5rU2l6ZTtcclxuICAgIGNvbnN0IHNlbnRlbmNlcyA9IHRleHQucmVwbGFjZSgvIS9nLCBcIi5cIikucmVwbGFjZSgvXFw/L2csIFwiLlwiKS5zcGxpdChcIi5cIikubWFwKHMgPT4gcy50cmltKCkpLmZpbHRlcihCb29sZWFuKTtcclxuICAgIGNvbnN0IGNodW5rczogQ2h1bmtbXSA9IFtdO1xyXG4gICAgbGV0IGN1cnJlbnQ6IHN0cmluZ1tdID0gW107XHJcbiAgICBsZXQgc2l6ZSA9IDA7XHJcbiAgICBsZXQgaWQgPSAwO1xyXG5cclxuICAgIGZvciAoY29uc3Qgc2VudGVuY2Ugb2Ygc2VudGVuY2VzKSB7XHJcbiAgICAgIGNvbnN0IHNlbnRTaXplID0gc2VudGVuY2Uuc3BsaXQoL1xccysvKS5sZW5ndGg7XHJcbiAgICAgIGlmIChzaXplICsgc2VudFNpemUgPiBsaW1pdCAmJiBjdXJyZW50Lmxlbmd0aCkge1xyXG4gICAgICAgIGNodW5rcy5wdXNoKHsgaWQsIHRleHQ6IGN1cnJlbnQuam9pbignLiAnKSArICcuJywgc2VudGVuY2VfY291bnQ6IGN1cnJlbnQubGVuZ3RoLCB0b2tlbl9jb3VudDogc2l6ZSB9KTtcclxuICAgICAgICBpZCArPSAxO1xyXG4gICAgICAgIGlmICh0aGlzLm92ZXJsYXAgPiAwICYmIGN1cnJlbnQubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuc2xpY2UoLTEpO1xyXG4gICAgICAgICAgc2l6ZSA9IGN1cnJlbnRbMF0uc3BsaXQoL1xccysvKS5sZW5ndGg7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGN1cnJlbnQgPSBbXTtcclxuICAgICAgICAgIHNpemUgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBjdXJyZW50LnB1c2goc2VudGVuY2UpO1xyXG4gICAgICBzaXplICs9IHNlbnRTaXplO1xyXG4gICAgfVxyXG4gICAgaWYgKGN1cnJlbnQubGVuZ3RoKSB7XHJcbiAgICAgIGNodW5rcy5wdXNoKHsgaWQsIHRleHQ6IGN1cnJlbnQuam9pbignLiAnKSArICcuJywgc2VudGVuY2VfY291bnQ6IGN1cnJlbnQubGVuZ3RoLCB0b2tlbl9jb3VudDogc2l6ZSB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiBjaHVua3M7XHJcbiAgfVxyXG59XHJcblxyXG4iXSwibmFtZXMiOlsiVGV4dENodW5rZXIiLCJjb25zdHJ1Y3RvciIsImNodW5rU2l6ZSIsIm92ZXJsYXAiLCJjaHVua0J5U2VudGVuY2VzIiwidGV4dCIsIm1heENodW5rU2l6ZSIsImxpbWl0Iiwic2VudGVuY2VzIiwicmVwbGFjZSIsInNwbGl0IiwibWFwIiwicyIsInRyaW0iLCJmaWx0ZXIiLCJCb29sZWFuIiwiY2h1bmtzIiwiY3VycmVudCIsInNpemUiLCJpZCIsInNlbnRlbmNlIiwic2VudFNpemUiLCJsZW5ndGgiLCJwdXNoIiwiam9pbiIsInNlbnRlbmNlX2NvdW50IiwidG9rZW5fY291bnQiLCJzbGljZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/textChunker.ts\n");

/***/ }),

/***/ "(rsc)/./lib/vectorStore.ts":
/*!****************************!*\
  !*** ./lib/vectorStore.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VectorStore: () => (/* binding */ VectorStore)\n/* harmony export */ });\n/* harmony import */ var _xenova_transformers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @xenova/transformers */ \"(rsc)/./node_modules/@xenova/transformers/src/transformers.js\");\n/* harmony import */ var better_sqlite3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! better-sqlite3 */ \"better-sqlite3\");\n/* harmony import */ var better_sqlite3__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(better_sqlite3__WEBPACK_IMPORTED_MODULE_1__);\n\n\nclass VectorStore {\n    constructor(modelName, dbPath){\n        this.chunks = [];\n        this.embeddings = [];\n        this.embedderPromise = null;\n        this.db = null;\n        this.modelName = modelName;\n        this.useSqlite = Boolean(dbPath);\n        if (dbPath) {\n            this.db = new (better_sqlite3__WEBPACK_IMPORTED_MODULE_1___default())(dbPath);\n            this.initDb();\n            this.loadFromDb();\n        }\n    }\n    initDb() {\n        if (!this.db) return;\n        this.db.exec(`\r\n      CREATE TABLE IF NOT EXISTS chunks (\r\n        id INTEGER PRIMARY KEY AUTOINCREMENT,\r\n        text TEXT NOT NULL\r\n      );\r\n      CREATE TABLE IF NOT EXISTS embeddings (\r\n        chunk_id INTEGER PRIMARY KEY,\r\n        vector BLOB NOT NULL,\r\n        FOREIGN KEY(chunk_id) REFERENCES chunks(id) ON DELETE CASCADE\r\n      );\r\n    `);\n    }\n    loadFromDb() {\n        if (!this.db) return;\n        const rows = this.db.prepare(\"SELECT c.id, c.text, e.vector FROM chunks c JOIN embeddings e ON e.chunk_id = c.id ORDER BY c.id\").all();\n        this.chunks = rows.map((r)=>({\n                id: r.id,\n                text: r.text\n            }));\n        this.embeddings = rows.map((r)=>new Float32Array(Buffer.from(r.vector).buffer));\n    }\n    async getEmbedder() {\n        if (!this.embedderPromise) {\n            const model = this.modelName.includes(\"/\") ? this.modelName : `Xenova/${this.modelName}`;\n            this.embedderPromise = (0,_xenova_transformers__WEBPACK_IMPORTED_MODULE_0__.pipeline)(\"feature-extraction\", model);\n        }\n        return this.embedderPromise;\n    }\n    async addDocuments(chunks) {\n        if (!chunks.length) return;\n        const embedder = await this.getEmbedder();\n        const texts = chunks.map((c)=>c.text);\n        const outputs = await embedder(texts, {\n            pooling: \"mean\",\n            normalize: true\n        });\n        const vectors = outputs.tolist().map((row)=>new Float32Array(row));\n        if (this.db) {\n            const insertChunk = this.db.prepare(\"INSERT INTO chunks (text) VALUES (?)\");\n            const insertEmbedding = this.db.prepare(\"INSERT INTO embeddings (chunk_id, vector) VALUES (?, ?)\");\n            const trx = this.db.transaction((pairs)=>{\n                for (const { text, vector } of pairs){\n                    const result = insertChunk.run(text);\n                    const chunkId = result.lastInsertRowid;\n                    insertEmbedding.run(chunkId, Buffer.from(vector.buffer));\n                }\n            });\n            const pairs = chunks.map((chunk, i)=>({\n                    text: chunk.text,\n                    vector: vectors[i]\n                }));\n            trx(pairs);\n            this.loadFromDb();\n        } else {\n            // For in-memory mode, assign IDs sequentially based on existing chunks\n            const startId = this.chunks.length > 0 ? Math.max(...this.chunks.map((c)=>c.id)) + 1 : 0;\n            const chunksWithIds = chunks.map((chunk, i)=>({\n                    ...chunk,\n                    id: startId + i\n                }));\n            this.chunks.push(...chunksWithIds);\n            this.embeddings.push(...vectors);\n        }\n    }\n    async search(query, topK = 5) {\n        if (this.chunks.length === 0) return [];\n        const embedder = await this.getEmbedder();\n        const out = await embedder(query, {\n            pooling: \"mean\",\n            normalize: true\n        });\n        const q = new Float32Array(out.tolist()[0]);\n        const scores = this.embeddings.map((v)=>cosineSimilarity(q, v));\n        const indices = scores.map((s, i)=>[\n                s,\n                i\n            ]).sort((a, b)=>b[0] - a[0]).slice(0, Math.min(topK, scores.length));\n        return indices.map(([score, i])=>({\n                chunk: this.chunks[i],\n                score\n            }));\n    }\n    clear() {\n        this.chunks = [];\n        this.embeddings = [];\n        if (this.db) {\n            this.db.exec(\"DELETE FROM embeddings; DELETE FROM chunks;\");\n        }\n    }\n    getStats() {\n        return {\n            total_chunks: this.chunks.length,\n            dimension: this.embeddings[0]?.length || 0,\n            model_name: this.modelName,\n            index_size: this.embeddings.length\n        };\n    }\n}\nfunction cosineSimilarity(a, b) {\n    let dot = 0;\n    let na = 0;\n    let nb = 0;\n    for(let i = 0; i < a.length && i < b.length; i++){\n        dot += a[i] * b[i];\n        na += a[i] * a[i];\n        nb += b[i] * b[i];\n    }\n    if (na === 0 || nb === 0) return 0;\n    return dot / (Math.sqrt(na) * Math.sqrt(nb));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUUsR0FBR2tCLENBQUMsQ0FBQ2xCLEVBQUU7SUFDbkI7SUFDQSxJQUFJNkIsT0FBTyxLQUFLQyxPQUFPLEdBQUcsT0FBTztJQUNqQyxPQUFPRixNQUFPMUIsQ0FBQUEsS0FBSzZCLElBQUksQ0FBQ0YsTUFBTTNCLEtBQUs2QixJQUFJLENBQUNELEdBQUU7QUFDNUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb2NzLWNoYXQtbmV4dC8uL2xpYi92ZWN0b3JTdG9yZS50cz80MzM4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHBpcGVsaW5lIH0gZnJvbSBcIkB4ZW5vdmEvdHJhbnNmb3JtZXJzXCI7XHJcbmltcG9ydCB0eXBlIHsgQ2h1bmsgfSBmcm9tIFwiLi90ZXh0Q2h1bmtlclwiO1xyXG5pbXBvcnQgRGF0YWJhc2UgZnJvbSBcImJldHRlci1zcWxpdGUzXCI7XHJcblxyXG50eXBlIEVtYmVkZGluZyA9IEZsb2F0MzJBcnJheTtcclxuXHJcbmV4cG9ydCBjbGFzcyBWZWN0b3JTdG9yZSB7XHJcbiAgcHJpdmF0ZSBjaHVua3M6IENodW5rW10gPSBbXTtcclxuICBwcml2YXRlIGVtYmVkZGluZ3M6IEVtYmVkZGluZ1tdID0gW107XHJcbiAgcHJpdmF0ZSBlbWJlZGRlclByb21pc2U6IFByb21pc2U8YW55PiB8IG51bGwgPSBudWxsO1xyXG4gIHByaXZhdGUgbW9kZWxOYW1lOiBzdHJpbmc7XHJcbiAgcHJpdmF0ZSBkYjogRGF0YWJhc2UuRGF0YWJhc2UgfCBudWxsID0gbnVsbDtcclxuICBwcml2YXRlIHVzZVNxbGl0ZTogYm9vbGVhbjtcclxuXHJcbiAgY29uc3RydWN0b3IobW9kZWxOYW1lOiBzdHJpbmcsIGRiUGF0aD86IHN0cmluZykge1xyXG4gICAgdGhpcy5tb2RlbE5hbWUgPSBtb2RlbE5hbWU7XHJcbiAgICB0aGlzLnVzZVNxbGl0ZSA9IEJvb2xlYW4oZGJQYXRoKTtcclxuICAgIGlmIChkYlBhdGgpIHtcclxuICAgICAgdGhpcy5kYiA9IG5ldyBEYXRhYmFzZShkYlBhdGgpO1xyXG4gICAgICB0aGlzLmluaXREYigpO1xyXG4gICAgICB0aGlzLmxvYWRGcm9tRGIoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgaW5pdERiKCkge1xyXG4gICAgaWYgKCF0aGlzLmRiKSByZXR1cm47XHJcbiAgICB0aGlzLmRiLmV4ZWMoYFxyXG4gICAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBjaHVua3MgKFxyXG4gICAgICAgIGlkIElOVEVHRVIgUFJJTUFSWSBLRVkgQVVUT0lOQ1JFTUVOVCxcclxuICAgICAgICB0ZXh0IFRFWFQgTk9UIE5VTExcclxuICAgICAgKTtcclxuICAgICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgZW1iZWRkaW5ncyAoXHJcbiAgICAgICAgY2h1bmtfaWQgSU5URUdFUiBQUklNQVJZIEtFWSxcclxuICAgICAgICB2ZWN0b3IgQkxPQiBOT1QgTlVMTCxcclxuICAgICAgICBGT1JFSUdOIEtFWShjaHVua19pZCkgUkVGRVJFTkNFUyBjaHVua3MoaWQpIE9OIERFTEVURSBDQVNDQURFXHJcbiAgICAgICk7XHJcbiAgICBgKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgbG9hZEZyb21EYigpIHtcclxuICAgIGlmICghdGhpcy5kYikgcmV0dXJuO1xyXG4gICAgY29uc3Qgcm93cyA9IHRoaXMuZGIucHJlcGFyZShcIlNFTEVDVCBjLmlkLCBjLnRleHQsIGUudmVjdG9yIEZST00gY2h1bmtzIGMgSk9JTiBlbWJlZGRpbmdzIGUgT04gZS5jaHVua19pZCA9IGMuaWQgT1JERVIgQlkgYy5pZFwiKS5hbGwoKTtcclxuICAgIHRoaXMuY2h1bmtzID0gcm93cy5tYXAoKHI6IGFueSkgPT4gKHsgaWQ6IHIuaWQsIHRleHQ6IHIudGV4dCB9KSk7XHJcbiAgICB0aGlzLmVtYmVkZGluZ3MgPSByb3dzLm1hcCgocjogYW55KSA9PiBuZXcgRmxvYXQzMkFycmF5KEJ1ZmZlci5mcm9tKHIudmVjdG9yKS5idWZmZXIpKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYXN5bmMgZ2V0RW1iZWRkZXIoKSB7XHJcbiAgICBpZiAoIXRoaXMuZW1iZWRkZXJQcm9taXNlKSB7XHJcbiAgICAgIGNvbnN0IG1vZGVsID0gdGhpcy5tb2RlbE5hbWUuaW5jbHVkZXMoJy8nKSA/IHRoaXMubW9kZWxOYW1lIDogYFhlbm92YS8ke3RoaXMubW9kZWxOYW1lfWA7XHJcbiAgICAgIHRoaXMuZW1iZWRkZXJQcm9taXNlID0gcGlwZWxpbmUoXCJmZWF0dXJlLWV4dHJhY3Rpb25cIiwgbW9kZWwpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXMuZW1iZWRkZXJQcm9taXNlO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgYWRkRG9jdW1lbnRzKGNodW5rczogQ2h1bmtbXSk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgaWYgKCFjaHVua3MubGVuZ3RoKSByZXR1cm47XHJcbiAgICBjb25zdCBlbWJlZGRlciA9IGF3YWl0IHRoaXMuZ2V0RW1iZWRkZXIoKTtcclxuICAgIGNvbnN0IHRleHRzID0gY2h1bmtzLm1hcChjID0+IGMudGV4dCk7XHJcbiAgICBjb25zdCBvdXRwdXRzID0gYXdhaXQgZW1iZWRkZXIodGV4dHMsIHsgcG9vbGluZzogXCJtZWFuXCIsIG5vcm1hbGl6ZTogdHJ1ZSB9KTtcclxuICAgIGNvbnN0IHZlY3RvcnM6IEVtYmVkZGluZ1tdID0gb3V0cHV0cy50b2xpc3QoKS5tYXAoKHJvdzogbnVtYmVyW10pID0+IG5ldyBGbG9hdDMyQXJyYXkocm93KSk7XHJcbiAgICBpZiAodGhpcy5kYikge1xyXG4gICAgICBjb25zdCBpbnNlcnRDaHVuayA9IHRoaXMuZGIucHJlcGFyZShcIklOU0VSVCBJTlRPIGNodW5rcyAodGV4dCkgVkFMVUVTICg/KVwiKTtcclxuICAgICAgY29uc3QgaW5zZXJ0RW1iZWRkaW5nID0gdGhpcy5kYi5wcmVwYXJlKFwiSU5TRVJUIElOVE8gZW1iZWRkaW5ncyAoY2h1bmtfaWQsIHZlY3RvcikgVkFMVUVTICg/LCA/KVwiKTtcclxuICAgICAgY29uc3QgdHJ4ID0gdGhpcy5kYi50cmFuc2FjdGlvbigocGFpcnM6IHsgdGV4dDogc3RyaW5nOyB2ZWN0b3I6IEVtYmVkZGluZyB9W10pID0+IHtcclxuICAgICAgICBmb3IgKGNvbnN0IHsgdGV4dCwgdmVjdG9yIH0gb2YgcGFpcnMpIHtcclxuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGluc2VydENodW5rLnJ1bih0ZXh0KTtcclxuICAgICAgICAgIGNvbnN0IGNodW5rSWQgPSByZXN1bHQubGFzdEluc2VydFJvd2lkO1xyXG4gICAgICAgICAgaW5zZXJ0RW1iZWRkaW5nLnJ1bihjaHVua0lkLCBCdWZmZXIuZnJvbSh2ZWN0b3IuYnVmZmVyKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgY29uc3QgcGFpcnMgPSBjaHVua3MubWFwKChjaHVuaywgaSkgPT4gKHsgdGV4dDogY2h1bmsudGV4dCwgdmVjdG9yOiB2ZWN0b3JzW2ldIH0pKTtcclxuICAgICAgdHJ4KHBhaXJzKTtcclxuICAgICAgdGhpcy5sb2FkRnJvbURiKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBGb3IgaW4tbWVtb3J5IG1vZGUsIGFzc2lnbiBJRHMgc2VxdWVudGlhbGx5IGJhc2VkIG9uIGV4aXN0aW5nIGNodW5rc1xyXG4gICAgICBjb25zdCBzdGFydElkID0gdGhpcy5jaHVua3MubGVuZ3RoID4gMCA/IE1hdGgubWF4KC4uLnRoaXMuY2h1bmtzLm1hcChjID0+IGMuaWQpKSArIDEgOiAwO1xyXG4gICAgICBjb25zdCBjaHVua3NXaXRoSWRzID0gY2h1bmtzLm1hcCgoY2h1bmssIGkpID0+ICh7IC4uLmNodW5rLCBpZDogc3RhcnRJZCArIGkgfSkpO1xyXG4gICAgICB0aGlzLmNodW5rcy5wdXNoKC4uLmNodW5rc1dpdGhJZHMpO1xyXG4gICAgICB0aGlzLmVtYmVkZGluZ3MucHVzaCguLi52ZWN0b3JzKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIHNlYXJjaChxdWVyeTogc3RyaW5nLCB0b3BLOiBudW1iZXIgPSA1KTogUHJvbWlzZTx7IGNodW5rOiBDaHVuazsgc2NvcmU6IG51bWJlciB9W10+IHtcclxuICAgIGlmICh0aGlzLmNodW5rcy5sZW5ndGggPT09IDApIHJldHVybiBbXTtcclxuICAgIGNvbnN0IGVtYmVkZGVyID0gYXdhaXQgdGhpcy5nZXRFbWJlZGRlcigpO1xyXG4gICAgY29uc3Qgb3V0ID0gYXdhaXQgZW1iZWRkZXIocXVlcnksIHsgcG9vbGluZzogXCJtZWFuXCIsIG5vcm1hbGl6ZTogdHJ1ZSB9KTtcclxuICAgIGNvbnN0IHEgPSBuZXcgRmxvYXQzMkFycmF5KG91dC50b2xpc3QoKVswXSk7XHJcbiAgICBjb25zdCBzY29yZXMgPSB0aGlzLmVtYmVkZGluZ3MubWFwKCh2KSA9PiBjb3NpbmVTaW1pbGFyaXR5KHEsIHYpKTtcclxuICAgIGNvbnN0IGluZGljZXMgPSBzY29yZXMubWFwKChzLCBpKSA9PiBbcywgaV0gYXMgY29uc3QpLnNvcnQoKGEsIGIpID0+IGJbMF0gLSBhWzBdKS5zbGljZSgwLCBNYXRoLm1pbih0b3BLLCBzY29yZXMubGVuZ3RoKSk7XHJcbiAgICByZXR1cm4gaW5kaWNlcy5tYXAoKFtzY29yZSwgaV0pID0+ICh7IGNodW5rOiB0aGlzLmNodW5rc1tpXSwgc2NvcmUgfSkpO1xyXG4gIH1cclxuXHJcbiAgY2xlYXIoKSB7XHJcbiAgICB0aGlzLmNodW5rcyA9IFtdO1xyXG4gICAgdGhpcy5lbWJlZGRpbmdzID0gW107XHJcbiAgICBpZiAodGhpcy5kYikge1xyXG4gICAgICB0aGlzLmRiLmV4ZWMoXCJERUxFVEUgRlJPTSBlbWJlZGRpbmdzOyBERUxFVEUgRlJPTSBjaHVua3M7XCIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0U3RhdHMoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB0b3RhbF9jaHVua3M6IHRoaXMuY2h1bmtzLmxlbmd0aCxcclxuICAgICAgZGltZW5zaW9uOiB0aGlzLmVtYmVkZGluZ3NbMF0/Lmxlbmd0aCB8fCAwLFxyXG4gICAgICBtb2RlbF9uYW1lOiB0aGlzLm1vZGVsTmFtZSxcclxuICAgICAgaW5kZXhfc2l6ZTogdGhpcy5lbWJlZGRpbmdzLmxlbmd0aCxcclxuICAgIH07XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBjb3NpbmVTaW1pbGFyaXR5KGE6IEZsb2F0MzJBcnJheSwgYjogRmxvYXQzMkFycmF5KTogbnVtYmVyIHtcclxuICBsZXQgZG90ID0gMDtcclxuICBsZXQgbmEgPSAwO1xyXG4gIGxldCBuYiA9IDA7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhLmxlbmd0aCAmJiBpIDwgYi5sZW5ndGg7IGkrKykge1xyXG4gICAgZG90ICs9IGFbaV0gKiBiW2ldO1xyXG4gICAgbmEgKz0gYVtpXSAqIGFbaV07XHJcbiAgICBuYiArPSBiW2ldICogYltpXTtcclxuICB9XHJcbiAgaWYgKG5hID09PSAwIHx8IG5iID09PSAwKSByZXR1cm4gMDtcclxuICByZXR1cm4gZG90IC8gKE1hdGguc3FydChuYSkgKiBNYXRoLnNxcnQobmIpKTtcclxufVxyXG5cclxuIl0sIm5hbWVzIjpbInBpcGVsaW5lIiwiRGF0YWJhc2UiLCJWZWN0b3JTdG9yZSIsImNvbnN0cnVjdG9yIiwibW9kZWxOYW1lIiwiZGJQYXRoIiwiY2h1bmtzIiwiZW1iZWRkaW5ncyIsImVtYmVkZGVyUHJvbWlzZSIsImRiIiwidXNlU3FsaXRlIiwiQm9vbGVhbiIsImluaXREYiIsImxvYWRGcm9tRGIiLCJleGVjIiwicm93cyIsInByZXBhcmUiLCJhbGwiLCJtYXAiLCJyIiwiaWQiLCJ0ZXh0IiwiRmxvYXQzMkFycmF5IiwiQnVmZmVyIiwiZnJvbSIsInZlY3RvciIsImJ1ZmZlciIsImdldEVtYmVkZGVyIiwibW9kZWwiLCJpbmNsdWRlcyIsImFkZERvY3VtZW50cyIsImxlbmd0aCIsImVtYmVkZGVyIiwidGV4dHMiLCJjIiwib3V0cHV0cyIsInBvb2xpbmciLCJub3JtYWxpemUiLCJ2ZWN0b3JzIiwidG9saXN0Iiwicm93IiwiaW5zZXJ0Q2h1bmsiLCJpbnNlcnRFbWJlZGRpbmciLCJ0cngiLCJ0cmFuc2FjdGlvbiIsInBhaXJzIiwicmVzdWx0IiwicnVuIiwiY2h1bmtJZCIsImxhc3RJbnNlcnRSb3dpZCIsImNodW5rIiwiaSIsInN0YXJ0SWQiLCJNYXRoIiwibWF4IiwiY2h1bmtzV2l0aElkcyIsInB1c2giLCJzZWFyY2giLCJxdWVyeSIsInRvcEsiLCJvdXQiLCJxIiwic2NvcmVzIiwidiIsImNvc2luZVNpbWlsYXJpdHkiLCJpbmRpY2VzIiwicyIsInNvcnQiLCJhIiwiYiIsInNsaWNlIiwibWluIiwic2NvcmUiLCJjbGVhciIsImdldFN0YXRzIiwidG90YWxfY2h1bmtzIiwiZGltZW5zaW9uIiwibW9kZWxfbmFtZSIsImluZGV4X3NpemUiLCJkb3QiLCJuYSIsIm5iIiwic3FydCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/vectorStore.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@xenova","vendor-chunks/onnxruntime-web","vendor-chunks/@huggingface","vendor-chunks/onnxruntime-common"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fstats%2Froute&page=%2Fapi%2Fstats%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fstats%2Froute.ts&appDir=C%3A%5CUsers%5Ckomar%5CDesktop%5Cdocs-chat-master%5Cdocs-chat-master%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ckomar%5CDesktop%5Cdocs-chat-master%5Cdocs-chat-master&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();